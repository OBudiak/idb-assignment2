|id |select_type|table     |partitions|type|possible_keys|key|key_len|ref|rows |filtered|Extra                      |
|---|-----------|----------|----------|----|-------------|---|-------|---|-----|--------|---------------------------|
|1  |PRIMARY    |<derived2>|          |ALL |             |   |       |   |2,138|90      |Using where; Using filesort|
|2  |DERIVED    |car_table |          |ALL |idx_year_msrp|   |       |   |4,020|53.18   |Using where; Using filesort|

|EXPLAIN                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|-> Sort: cte.make, cte.model  (cost=2.6..2.6 rows=0) (actual time=23.6..24 rows=1298 loops=1)¶    -> Filter: (cte.msrp is not null)  (cost=2.5..2.5 rows=0) (actual time=20.4..20.7 rows=1298 loops=1)¶        -> Table scan on CTE  (cost=2.5..2.5 rows=0) (actual time=20.4..20.6 rows=1298 loops=1)¶            -> Materialize CTE cte  (cost=0..0 rows=0) (actual time=20.4..20.4 rows=1298 loops=1)¶                -> Window aggregate: rank() OVER (PARTITION BY car_table.`Year` ORDER BY car_table.msrp desc )   (actual time=17..18.7 rows=1298 loops=1)¶                    -> Sort: car_table.`Year`, car_table.msrp DESC  (actual time=17..17.2 rows=1298 loops=1)¶                        -> Table scan on <temporary>  (cost=2.5..2.5 rows=0) (actual time=16.2..16.4 rows=1298 loops=1)¶                            -> Temporary table  (cost=0..0 rows=0) (actual time=16.2..16.2 rows=1298 loops=1)¶                                -> Window aggregate with buffering: avg(car_table.MSRP) OVER (PARTITION BY car_table.make,car_table.`Year` )   (actual time=7.16..15.6 rows=1298 loops=1)¶                                    -> Sort: car_table.make, car_table.`Year`  (cost=497 rows=4020) (actual time=7.12..7.47 rows=1298 loops=1)¶                                        -> Filter: (car_table.`Year` between 2010 and 2015)  (cost=497 rows=4020) (actual time=0.0847..6.04 rows=1298 loops=1)¶                                            -> Table scan on car_table  (cost=497 rows=4020) (actual time=0.0786..5.68 rows=3970 loops=1)¶|
